services:
  frontend:
    build:
      context: ./components/frontend
    container_name: frontend
    labels:
      - "dev.dozzle.name=Frontend"
      - "dev.dozzle.group=App"
    ports:
      - 3000:3000
    depends_on:
      - backend
    environment:
      PUBLIC_BACKEND_SERVER: ${PUBLIC_BACKEND_SERVER}
      ORIGIN: http://localhost:3000
      TYPE_TRANSLATION: ${TYPE_TRANSLATION}
      TYPE_ORIGINAL: ${TYPE_ORIGINAL}
      PUBLIC_SOLR_PAGE_SIZE: ${SOLR_PAGE_SIZE}
    networks:
      - debates_network
    command: ["node", "build"]
    profiles:
      - prod
